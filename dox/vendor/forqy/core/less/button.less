// Button

.@{prefix}-button {
  position: relative;
  display: inline-flex;
  padding: @button-padding-vertical @button-padding-horizontal;
  margin: @button-margin-vertical @button-margin-horizontal;

  align-items: center;
  justify-content: center;
  text-align: center;

  font-family: @button-font-family;
  font-size: @button-font-size;
  font-weight: @button-font-weight;
  text-transform: @button-text-transform;
  letter-spacing: @button-letter-spacing;
  line-height: @button-line-height;

  color: @content-color-background;
  background-color: @content-color;

  border: @button-border-width solid transparent;
  border-radius: @button-border-radius;

  outline: @link-border-width solid transparent;
  outline-offset: @button-outline-width;

  .button-focus-shadow-transparent();

  appearance: none;
  user-select: none;

  .transition-property(~'color, background-color, background-size, border, box-shadow, text-decoration, outline, opacity');
  .transition-duration(@transition-duration);
  .transition-timing-function(@transition-timing-function);

  // Icon

  svg,
  .@{prefix}-icon {
    position: relative;
    display: inline-flex;
    vertical-align: middle;

    color: currentColor;
  }

  &:hover,
  &:focus {
    color: @content-color-background;
    background-color: @content-color-accent;
    border-color: transparent;
  }

  &:focus {
    .button-focus-shadow(@content-color-accent);
  }

  &:focus-visible {
    outline-color: @content-color-accent;
  }

  // Disabled
  &:disabled {
    cursor: not-allowed;

    pointer-events: none;
    touch-action: none;

    color: @content-color-background;
    background-color: fade(@content-color, 60%);
  }

  // Next
  + .@{prefix}-button {
    margin-left: @button-gutter;
  }
}

// Secondary

.@{prefix}-button-secondary {
  color: @content-color-background;
  background-color: @content-color;

  &:hover,
  &:focus {
    color: @content-color-background;
    background-color: @content-color-accent;
  }

  &:focus {
    .button-focus-shadow(@content-color-accent);
  }

  &:focus-visible {
    outline-color: @content-color-accent;
  }

  // Disabled
  &:disabled {
    color: @content-color-background;
    background-color: fade(@content-color, 60%);
  }
}

// Accent

.@{prefix}-button-accent {
  color: contrast(@content-color-accent, @content-color, @content-color-background, @color-contrast-threshold);
  background-color: @content-color-accent;

  &:hover,
  &:focus {
    color: contrast(@content-color-accent, @content-color, @content-color-background, @color-contrast-threshold);
    background-color: @content-color-accent-darker;
  }

  &:focus {
    .button-focus-shadow(@content-color-accent-darker);
  }

  &:focus-visible {
    outline-color: @content-color-accent-darker;
  }

  // Disabled
  &:disabled {
    color: @content-color-background;
    background-color: fade(@content-color, 60%);
  }
}

// Bordered

.@{prefix}-button-bordered {
  color: fade(@content-color, @content-color-opacity);
  background-color: transparent;
  border-color: fade(@content-color, @content-color-opacity / 2);

  .button-bordered-focus-shadow-transparent();

  &:hover,
  &:focus {
    color: @content-color;
    background-color: transparent;
    border-color: @content-color-accent;
  }

  &:focus {
    .button-bordered-focus-shadow(@content-color-accent);
  }

  // Disabled
  &:disabled {
    color: fade(@content-color, 60%);
    background-color: transparent;
    border-color: fade(@content-color, 60%);
  }
}

// Link

.@{prefix}-button-link {
  padding: 0;

  color: fade(@content-color, @content-color-opacity);
  background-color: transparent;
  border-radius: 0;
  border-width: 0 0 @button-border-width;
  outline: transparent solid @button-border-width;
  outline-offset: min(@button-border-width * 2, 2px);

  &:hover,
  &:focus {
    color: contrast(@content-color-background, @content-color-accent, @content-color, @color-contrast-threshold);
    background-color: transparent;
    border-color: contrast(@content-color-background, @content-color-accent, @content-color, @color-contrast-threshold);
  }

  &:focus {
    box-shadow: none;

    &:focus-visible {
      outline-color: currentColor;
    }
  }
}

// Disabled

.@{prefix}-button-disabled {
  cursor: not-allowed;

  pointer-events: none;
  touch-action: none;

  color: @content-color-background;
  background-color: fade(@content-color, 60%);
}

// Icon

.@{prefix}-button--icon-left {

  svg,
  .@{prefix}-icon {
    margin-right: @margin-xsmall;
  }
}

.@{prefix}-button--icon-right {

  svg,
  .@{prefix}-icon {
    margin-left: @margin-xsmall;
  }
}

// Size

// Micro
.@{prefix}-button-micro {
  padding: ceil((@button-padding-vertical / 3.0)) ceil((@button-padding-horizontal / 3.0));
  font-size: @font-size-xsmall;
}

// Small
.@{prefix}-button-small {
  padding: ceil((@button-padding-vertical / 1.5)) ceil((@button-padding-horizontal / 1.5));
  font-size: @font-size-small;
}

// Medium
.@{prefix}-button-medium {
  font-size: @button-font-size;
}

// Large
.@{prefix}-button-large {
  padding-top: ceil((@button-padding-vertical * 1.5));
  padding-bottom: ceil((@button-padding-vertical * 1.5));
}

// Huge
.@{prefix}-button-huge {
  padding-top: ceil((@button-padding-vertical * 2.0));
  padding-bottom: ceil((@button-padding-vertical * 2.0));
}

// Elements

.@{prefix}-button {

  // Price

  .@{prefix}-price {
    display: inline-flex;
    align-items: center;

    // Dash
    &:before {
      content: "\00a0\2014\00a0";
      opacity: 0.5;
    }
  }
}

// Buttons

.@{prefix}-buttons {
  display: flex;
  flex-wrap: wrap;
  margin: 0 -(@button-gutter / 2) -(@button-gutter);

  // Button

  > .@{prefix}-button {
    display: inline-block;
    align-self: center;
    margin: 0 (@button-gutter / 2) @button-gutter (@button-gutter / 2);
  }

  // Alignment

  &--center {
    justify-content: center;
  }

  &--right {
    justify-content: flex-end;
  }
}