// PhotoSwipe - Default

.pswp {
  position: fixed;
  max-height: 100vh;

  // Fullscreen
  &.pswp--fs {
    border-left-width: @padding;
    border-right-width: @padding;
  }
}

// Background

.pswp__bg {
  opacity: 1 !important;
  background-color: fade(@pswp-color-background, @pswp-color-background-opacity) !important;
}

// Button

.pswp__button {
  width: @pswp-size;
  height: @pswp-size;
  float: right;
  position: relative;
  cursor: pointer;
  overflow: visible;
  display: block;
  border: 0;
  padding: 0;
  margin: 0;

  opacity: 0.6;

  .transition(opacity, @transition-duration, @transition-timing-function);

  appearance: none;

  color: @pswp-color;
  background-color: transparent;
  background-position: center center;
  background-repeat: no-repeat;
  background-size: 24px 24px;

  outline: @link-border-width solid transparent;
  outline-offset: -@link-border-width;

  .pswp--zoomed-in & {
    opacity: 1;
  }

  &:hover,
  &:focus {
    opacity: 1;
    background-color: transparent;
    background-position: center center;
  }

  &:focus {
    .button-focus-shadow(@pswp-color);
  }

  &:focus-visible {
    outline-color: @pswp-color;
  }

  &:active {
    outline: none;
    opacity: 1;
  }

  // Fullscreen
  &.pswp__button--fs {
    display: none;
  }

  // Zoom
  &.pswp__button--zoom {
    display: none;
  }

  // Arrows
  &.pswp__button--arrow--left,
  &.pswp__button--arrow--right {
    opacity: 1;
    position: absolute;
    height: 100%;
    top: 0;
    z-index: 0;

    color: @pswp-color;

    // Icon
    &:before {
      opacity: 0.6;

      .flex-center();
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;

      background-color: transparent;
      background-position: center center;
      background-repeat: no-repeat;
      background-size: 36px 36px;

      .transition(opacity);

      .pswp--zoomed-in & {
        opacity: 1;
      }
    }

    &:focus,
    &:hover {
      opacity: 1;

      &:before {
        opacity: 1;
      }
    }
  }

  &.pswp__button--arrow--left {
    left: 0;
    border-left: 0;
  }

  &.pswp__button--arrow--right {
    right: 0;
    border-right: 0;
  }

  // Share
  &.pswp__button--share {
    display: none;
  }
}

// Close

button.pswp__button--close {
  &:hover {
    background-position: center;
  }
}

// Touch Screens - Hide Arrows

.pswp--touch {

  .pswp__button--arrow--left,
  .pswp__button--arrow--right {
    visibility: hidden;
  }
}

// Fullscreen

.pswp--supports-fs {

  .pswp__button {
    &.pswp__button--fs {
      display: block;
    }
  }
}

// Fullscreen

.pswp--fs {

  .pswp__button {
    &.pswp__button--fs {
      background-position: center center !important;

      &:focus,
      &:hover {
        opacity: 1;
        background-position: center center !important;
        background-color: transparent !important;
      }
    }
  }
}

// Zoom

.pswp--zoom-allowed {

  .pswp__button {
    &.pswp__button--zoom {
      display: block;
    }
  }
}

// Counter

.pswp__counter {
  position: absolute;
  left: 0;
  top: 0;
  min-width: @pswp-size;
  height: @pswp-size;
  padding: 0 @padding-small;

  font-size: @font-size;
  line-height: @pswp-size;
  text-align: center;

  color: fade(@pswp-color, 60%);

  .transition(color);

  .pswp--zoomed-in & {
    color: @pswp-color;
  }
}

// Caption

.pswp__caption {
  .flex-center();

  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  min-height: @pswp-size;
  padding: @padding-small 0;
  z-index: @layer-2;

  font-size: @font-size;
  line-height: normal;

  color: fade(@pswp-color, 80%);
  background-color: transparent;

  a {
    color: fade(@pswp-color, 80%);
    border-color: fade(@pswp-color, 20%);

    &:hover,
    &:focus {
      color: @pswp-color;
      border-color: @pswp-color;
    }
  }

  small {
    font-size: @font-size-small;
    color: fade(@pswp-color, 80%);
  }

  // Zoomed in

  .pswp--zoomed-in & {
    color: @pswp-color;

    a,
    small {
      color: @pswp-color;
    }
  }

  // UI Fit

  .pswp__ui--fit & {
    background-color: transparent;
  }

  // "Justified Gallery" plugin compatibility

  .dgwt-jg-item-desc {
    font-size: @font-size !important;
    line-height: normal !important;
    color: fade(@pswp-color, 80%) !important;

    .transition(color);

    .pswp--zoomed-in & {
      color: @pswp-color;
    }
  }
}

// Caption - Terms
.pswp__caption-terms {
  display: block;
  margin-bottom: @margin-xxsmall;
  border-radius: 0;
}

// Caption - Title
.pswp__caption-title {
  display: block;

  font-family: @heading-font-family;
  font-size: @font-size-xxlarge;
  font-weight: @heading-font-weight;
  text-transform: @heading-text-transform;
  letter-spacing: @heading-letter-spacing;

  color: @pswp-color;
}

// Caption - Prices
.pswp__caption-prices {
  display: block;
  margin-top: @margin-xxsmall;
}

// Caption - Center
.pswp__caption__center {
  max-width: @screen-phone-max;
  padding: 0 @padding;
  margin: 0 auto;

  font-size: @font-size;
  line-height: normal;
  text-align: center;

  color: fade(@pswp-color, 80%);

  .pswp--zoomed-in & {
    color: @pswp-color;
  }
}

// Caption - Empty
.pswp__caption--empty {
  display: none;
}

// Caption - Fake
.pswp__caption--fake {
  visibility: hidden;
}

// UI

.pswp__ui {
  visibility: visible;
  opacity: 1;
  z-index: 1600;
}

// Bar

.pswp__top-bar {
  position: absolute;
  left: 0;
  top: 0;
  height: @pswp-size;
  width: 100%;
  z-index: @layer-2;

  background-color: transparent !important;
}

// Preloader
// http://codepen.io/dimsemenov/pen/yyBWoR

.pswp__preloader {
  width: @pswp-size;
  height: @pswp-size;
  position: absolute;
  top: 0;
  left: 50%;
  margin-left: -(@pswp-size / 2);

  opacity: 0;

  transition: opacity @transition-duration ease-out;
  will-change: opacity;
  direction: ltr;

  @media (max-width: @screen-tablet-max) {
    float: right;
    position: relative;
    left: auto;
    top: auto;
    margin: 0;
  }
}

// Preloader - Active
.pswp__preloader--active {
  opacity: 1;

  .pswp__preloader__icn {
    animation: pswpClockwise 500ms linear infinite;
  }

  .pswp__preloader__donut {
    animation: pswpDonutRotate 1000ms cubic-bezier(0.4, 0, 0.22, 1) infinite;
  }
}

// Preloader - Icon
.pswp__preloader__icn {
  opacity: 1;

  position: absolute;
  width: 24px;
  height: 24px;
  top: 50%;
  left: 50%;
  margin-top: -12px;
  margin-left: -12px;

  background: none;
}

// Preloader - Cut
.pswp__preloader__cut {
  position: relative;
  width: 24px;
  height: 24px;
  overflow: hidden;
}

// Preloader - Donut
.pswp__preloader__donut {
  position: absolute;
  width: 24px;
  height: 24px;
  top: 0;
  left: 0;
  margin: 0;

  background: none;
  border: @border-width solid fade(@pswp-color, 40%);
  border-radius: 50%;
  border-left-color: transparent;
  border-bottom-color: transparent;
}

// Misc

.pswp--has_mouse .pswp__button--arrow--left,
.pswp--has_mouse .pswp__button--arrow--right {
  visibility: visible;
}

.pswp__ui--idle .pswp__top-bar {
  opacity: 0;
}

.pswp__ui--idle .pswp__button--arrow--left,
.pswp__ui--idle .pswp__button--arrow--right {
  opacity: 0;
}

.pswp__ui--hidden .pswp__top-bar,
.pswp__ui--hidden .pswp__caption,
.pswp__ui--hidden .pswp__button--arrow--left,
.pswp__ui--hidden .pswp__button--arrow--right {
  opacity: 0.001;
}

.pswp__ui--one-slide .pswp__button--arrow--left,
.pswp__ui--one-slide .pswp__button--arrow--right,
.pswp__ui--one-slide .pswp__counter {
  display: none;
}

.pswp__element--disabled {
  display: none !important;
}

// Animations

@keyframes pswpClockwise {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes pswpDonutRotate {
  0% {
    transform: rotate(0);
  }
  50% {
    transform: rotate(-140deg);
  }
  100% {
    transform: rotate(0);
  }
}
