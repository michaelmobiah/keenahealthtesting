// Site - Loading

@loading-transition-duration: 0.4s;

.pace,
.@{prefix}-site-loading {
  pointer-events: none;
  will-change: opacity;
  .transition(all, @loading-transition-duration, @transition-timing-function);
}

// Logo

.@{prefix}-site-loading-logo {
  .flex-center();

  position: absolute;
  top: 50%;
  left: 50%;
  width: @loading-logo-size;
  height: @loading-logo-size;
  padding: 0;
  z-index: (@loading-z-index - 10);

  font-family: @heading-font-family;
  font-size: @font-size-xlarge;
  font-weight: @heading-font-weight;
  text-transform: @heading-text-transform;
  letter-spacing: @heading-letter-spacing;
  line-height: normal;
  text-align: center;

  word-wrap: break-word;
  overflow-wrap: break-word;

  color: @loading-color;

  .translate(-50%, -50%);
  .transition(opacity, @transition-duration, @transition-timing-function);

  img {
    .transition(opacity, @transition-duration, @transition-timing-function);
  }
}

// States

.@{prefix}-container {
  opacity: 0;
  will-change: opacity;
  backface-visibility: hidden;

  .transition(opacity, @loading-transition-duration / 2, @transition-timing-function);
}

.@{prefix}-site-loading {
  opacity: 0;
  will-change: opacity;
  backface-visibility: hidden;
}

.pace-inactive {
  opacity: 0;
}

body {

  // Running

  &.pace-running {

    .@{prefix}-site-loading {
      opacity: 1;
    }
  }

  // Done

  &.pace-done {

    .@{prefix}-container {
      opacity: 1;
    }

    .@{prefix}-site-loading {
      opacity: 0;
    }
  }

  // Hidden

  &.loading-hidden {

    .@{prefix}-site-loading {
      opacity: 0;
      display: none;
      visibility: hidden;
    }

    .pace-inactive {
      opacity: 0;
      display: none;
      visibility: hidden;
    }
  }

  // No Loading

  &.loading-none,
  &.loading-disabled {

    .@{prefix}-container {
      opacity: 1;
      transition: none;
    }

    .pace,
    .@{prefix}-site-loading {
      display: none;
    }
  }
}