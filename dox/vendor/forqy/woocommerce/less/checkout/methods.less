// Checkout - Shipping/Payment Methods

.woocommerce-cart,
.woocommerce-checkout {

  // Shipping/Payment Methods on Checkout and Cart Pages

  ul#shipping_method,
  #payment ul.payment_methods {

    li {
      position: relative;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      padding: 0 @padding-small;
      margin-bottom: @margin-xxsmall;
      z-index: @layer-1;

      border: 0;

      // Last
      &:last-child {
        margin-bottom: 0;
      }

      // Hover
      &:hover {
        z-index: @layer-3;
      }

      // Label

      label {
        font-size: @form-label-font-size;
        line-height: @line-height-small;
      }

      > label {
        flex: 1;
        padding: max(@form-field-padding-vertical + @padding-xxsmall, @padding-xsmall) 0;

        color: @form-label-color;

        // Background
        &:after {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          z-index: -1;

          border: @form-field-border-width solid @form-field-border-color;
          border-radius: @form-field-border-radius;
          box-shadow: none;

          .transition();
        }
      }

      // Input

      input {
        margin: 4px @margin-xsmall 3px 0;
      }

      > input {

        // Checked
        &:checked,
        &[type='hidden'] {
          + label {
            color: @form-label-color-focus;

            // Background
            &:after {
              left: -(@padding-xsmall);
              width: calc(~'100% + @{padding-small}');
              border-color: @form-field-border-color-focus;
            }

            + div.payment_box {
              p {
                color: fade(@content-color, 80%);
              }
            }
          }
        }

        &[type='hidden'] {
          + label {
            cursor: initial;
          }
        }
      }

      > div {
        &:last-child {
          padding-bottom: @padding-small;
        }
      }

      // Description

      .payment_box {
        flex-basis: 100%;
      }

      // Image

      img {
        align-self: center;
        width: auto;
        max-height: 24px;

        &.stripe-icon {
          padding: 0;
          margin: @border-width-large 0 0 @border-width-large;

          &:first-child {
            margin-left: 0;
          }
        }
      }

      // Notice
      &.woocommerce-notice {
        padding: @padding-small;
        line-height: @line-height-small;
        border: @border-width-small solid currentColor;
      }

      // One
      &:first-child {
        &:last-child {

          label {
            color: @form-label-color-focus;
            z-index: @layer-1;

            // Background
            &:after {
              border-color: @form-field-border-color-focus;
            }
          }
        }
      }
    }
  }
}
